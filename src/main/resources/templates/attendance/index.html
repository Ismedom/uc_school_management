<!doctype html>
<html
    xmlns:th="http://www.thymeleaf.org"
    th:replace="~{layout/main :: layout(~{::div#content}, ~{::title})}"
>
    <head>
        <title>Attendance - School Management System</title>
    </head>

    <body>
        <div id="content">
            <div class="">
                <div class="mb-8">
                    <h1 class="text-2xl font-bold text-gray-900">Attendance Management</h1>
                    <p class="text-gray-500 text-sm mt-1">
                        Select a section and date to record or view daily attendance.
                    </p>
                </div>

                <div
                    th:if="${param.success}"
                    class="mb-6 p-4 bg-green-50 border border-green-200 text-green-700 rounded-lg flex items-center shadow-sm"
                >
                    <i class="fas fa-check-circle mr-3"></i>
                    Attendance has been successfully recorded.
                </div>

                <div
                    th:if="${param.error}"
                    class="mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg flex items-center shadow-sm"
                >
                    <i class="fas fa-exclamation-triangle mr-3"></i>
                    <span th:text="${param.error}">Error message</span>
                </div>

                <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-8">
                    <form
                        th:action="@{/attendance/mark}"
                        method="GET"
                        class="grid grid-cols-1 md:grid-cols-4 gap-6 items-end"
                    >
                        <div>
                            <label
                                for="sectionId"
                                class="block text-sm font-medium text-gray-700 mb-2"
                                >Select Section</label
                            >
                            <select
                                name="sectionId"
                                id="sectionId"
                                required
                                class="w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none bg-gray-50"
                            >
                                <option value="">Choose a section...</option>
                                <option
                                    th:each="sec : ${sections}"
                                    th:value="${sec.id}"
                                    th:text="|${sec.schoolClass.name} - ${sec.name}|"
                                >
                                    Grade 10 - A
                                </option>
                            </select>
                        </div>

                        <div>
                            <label
                                for="subjectId"
                                class="block text-sm font-medium text-gray-700 mb-2"
                                >Select Subject</label
                            >
                            <select
                                name="subjectId"
                                id="subjectId"
                                required
                                class="w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none bg-gray-50"
                            >
                                <option value="">Choose a subject...</option>
                                <option
                                    th:each="subject : ${subjects}"
                                    th:value="${subject.id}"
                                    th:text="${subject.name}"
                                >
                                    Mathematics
                                </option>
                            </select>
                        </div>

                        <div>
                            <label for="date" class="block text-sm font-medium text-gray-700 mb-2"
                                >Select Date</label
                            >
                            <input
                                type="date"
                                name="date"
                                id="date"
                                th:value="${today}"
                                required
                                class="w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none bg-gray-50"
                            />
                        </div>

                        <div>
                            <button
                                type="submit"
                                class="w-full bg-blue-600 text-white px-6 py-2.5 rounded-lg font-semibold hover:bg-blue-700 transition-colors shadow-sm inline-flex items-center justify-center"
                            >
                                <i class="fas fa-search mr-2"></i>Go to Sheet
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Quick Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                    <div class="bg-blue-50 p-6 rounded-xl border border-blue-100">
                        <div class="flex items-center text-blue-600 font-bold mb-2">
                            <i class="fas fa-info-circle mr-2"></i>
                            <span>Daily Tip</span>
                        </div>
                        <p class="text-blue-800 text-sm">
                            Recording attendance regularly helps in generating accurate monthly
                            reports and monitoring student performance.
                        </p>
                    </div>
                    <div class="bg-orange-50 p-6 rounded-xl border border-orange-100">
                        <div class="flex items-center text-orange-600 font-bold mb-2">
                            <i class="fas fa-exclamation-triangle mr-2"></i>
                            <span>Pending</span>
                        </div>
                        <p class="text-orange-800 text-sm">
                            Attendance for 3 sections are still pending for today. Please remind the
                            class teachers.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
